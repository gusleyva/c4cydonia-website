---
---

<button
  id="language-toggle"
  class="inline-flex items-center px-3 py-1.5 border border-gray-300 dark:border-gray-700 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"
  aria-label="Toggle language"
>
  <span id="language-text">EN</span>
</button>

<script>
  // Get the language toggle button and text elements
  const languageToggle = document.getElementById('language-toggle');
  const languageText = document.getElementById('language-text');
  
  // Get the current language from localStorage or default to Spanish
  const currentLanguage = localStorage.getItem('language') || 'es';
  
  // Set initial text based on current language
  languageText.textContent = currentLanguage === 'es' ? 'EN' : 'ES';
  
  // Add click event listener to toggle language
  languageToggle.addEventListener('click', () => {
    // Toggle between 'es' and 'en'
    const newLanguage = currentLanguage === 'es' ? 'en' : 'es';
    
    // Update localStorage
    localStorage.setItem('language', newLanguage);
    
    // Update button text
    languageText.textContent = newLanguage === 'es' ? 'EN' : 'ES';
    
    // Dispatch custom event for other components to listen to
    const event = new CustomEvent('languageChanged', { 
      detail: { language: newLanguage } 
    });
    document.dispatchEvent(event);
  });
</script> 