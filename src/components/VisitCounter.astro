---
// VisitCounter.astro
interface Props {
  lang?: 'es' | 'en';
}

const { lang = 'es' } = Astro.props;

const translations = {
  es: { visits: "Visitas totales:" },
  en: { visits: "Total visits:" }
};

const t = translations[lang];
---

<div class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400">
  <svg
    xmlns="http://www.w3.org/2000/svg"
    class="h-4 w-4"
    fill="none"
    viewBox="0 0 24 24"
    stroke="currentColor"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      stroke-width="2"
      d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
    />
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      stroke-width="2"
      d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
    />
  </svg>
  <span id="visit-count">0</span>
  <span>visitas</span>
</div>

<script>
  const visitCount = document.getElementById('visit-count');
  if (visitCount) {
    const count = parseInt(localStorage.getItem('visitCount') || '0') + 1;
    localStorage.setItem('visitCount', count.toString());
    visitCount.textContent = count.toLocaleString();
  }
</script>
